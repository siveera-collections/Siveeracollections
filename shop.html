<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop | Siveera Collections</title>

  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        crossorigin="anonymous" />

  <style>
/* ======= PAGE BANNER ======= */
.page-banner {
  margin-top: 85px;
  text-align: center;
  padding: 35px 10px;
  background: #FFF1EC;
}
.page-banner h1 { font-size: 2.4rem; color:#C07C85; font-weight: 700; }
.page-banner p { color:#7A575C; font-size:1.05rem; }

/* ======= FILTER BAR ======= */
.filter-bar {
  max-width:1200px;
  margin:20px auto;
  padding:15px 20px;
  display:flex;
  gap:15px;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}

.filter-bar input {
  flex:1;
  padding:12px 18px;
  border-radius:50px;
  border:1px solid #E8C4A9;
  font-size:1rem;
  outline:none;
}

.filter-bar select {
  padding:12px 18px;
  border-radius:50px;
  border:1px solid #E8C4A9;
  background:#fff;
  font-size:1rem;
}

/* ======= PRODUCT GRID ======= */
.product-grid {
  max-width:1200px;
  margin:auto;
  display:grid;
  gap:22px;
  padding:25px 20px 90px;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
}

.product-card {
  background:white;
  border-radius:15px;
  border:1px solid #F3D7C8;
  overflow:hidden;
  text-align:center;
  padding-bottom:12px;
  transition:.35s;
  position:relative;
}
.product-card:hover {
  transform:translateY(-5px);
  box-shadow:0 0 20px rgba(232,196,169,0.45);
}

.product-card img {
  width:100%; height:260px; object-fit:cover;
}

.product-card h3 {
  font-size:1.05rem;
  margin:8px 0;
  color:#2A2A2A;
}
.price { color:#C07C85; font-size:1.25rem; font-weight:700; }

/* wishlist */
.wishlist-icon {
  position:absolute;
  top:12px; right:12px;
  font-size:1.3rem;
  color:#C07C85;
  cursor:pointer;
}

/* toast */
#toast {
  position:fixed;
  bottom:22px;
  left:50%;
  transform:translateX(-50%);
  padding:12px 25px;
  background:#D66D8F;
  color:white;
  border-radius:50px;
  display:none;
  animation:fadeInOut 1.8s ease forwards;
  z-index:2000;
}
@keyframes fadeInOut {
  0%{opacity:0;} 10%{opacity:1;} 90%{opacity:1;} 100%{opacity:0;}
}

/* ======== CART DRAWER ======== */
.cart-drawer {
  position:fixed;
  top:0; right:-420px;
  width:380px;
  height:100vh;
  background:white;
  box-shadow:-4px 0 25px rgba(0,0,0,0.2);
  transition:.45s ease;
  z-index:3000;
  padding:25px;
  display:flex;
  flex-direction:column;
}

.cart-drawer.open { right:0; }

.cart-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:15px;
  font-weight:700;
  font-size:1.3rem;
  color:#C07C85;
}

.cart-item {
  display:flex;
  gap:10px;
  margin-bottom:15px;
  border-bottom:1px solid #F3D7C8;
  padding-bottom:10px;
}
.cart-item img { width:70px; height:70px; object-fit:cover; border-radius:8px; }

.cart-controls button {
  border:none; padding:5px 12px;
  border-radius:6px;
  background:#EEE;
  cursor:pointer;
}

.cart-footer {
  margin-top:auto;
  text-align:center;
}

/* overlay background */
.cart-overlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,0.45);
  backdrop-filter:blur(2px);
  display:none;
  z-index:2000;
}
.cart-overlay.show { display:block; }


  </style>
</head>

<body>

<!-- Header load -->
<div id="header-placeholder"></div>
<script>
fetch("header.html").then(r=>r.text()).then(d=>{document.getElementById("header-placeholder").innerHTML=d;});
</script>

<!-- Banner -->
<div class="page-banner">
  <h1>All Sarees</h1>
  <p>Premium Collections • Best Prices</p>
</div>

<!-- FILTER BAR -->
<div class="filter-bar">
  <input type="text" id="searchBox" placeholder="Search Sarees...">
  <select id="sortSelect">
    <option value="default">Sort</option>
    <option value="low">Price: Low → High</option>
    <option value="high">Price: High → Low</option>
  </select>
</div>

<!-- Product Grid -->
<div class="product-grid" id="productGrid">
  <!-- JS will dynamically load products here -->
</div>

<!-- Toast -->
<div id="toast">Added to Cart</div>

<!-- CART DRAWER -->
<div class="cart-overlay" id="overlay"></div>

<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <span>Your Cart</span>
    <i class="fas fa-times" id="closeCart" style="cursor:pointer;"></i>
  </div>
  <div id="cartItems"></div>
  <div class="cart-footer">
    <h3 id="cartTotal"></h3>
    <a href="cart.html" class="btn-pill" style="margin-top:12px;">Checkout</a>
  </div>
</div>

<script>
// ===== PRODUCT DATA =====
const products = [
  {name:"Olive Chiffon", price:799, image:"chiffon1.jpg"},
  {name:"Black Chiffon", price:799, image:"chiffon2.jpg"},
  {name:"Violet Chiffon", price:799, image:"chiffon3.jpg"},
  {name:"Maroon Chiffon", price:799, image:"chiffon4.jpg"},
  {name:"Dark Green Chiffon", price:799, image:"chiffon5.jpg"},
  {name:"Pink Chiffon", price:799, image:"chiffon6.jpg"},
  {name:"Purple Banarasi", price:1199, image:"purpleNEW.jpg"},
  {name:"Aqua Blue Banarasi", price:1199, image:"aquablueNEW.jpg"},
];

// RENDER PRODUCTS
function loadProducts(list){
  const grid=document.getElementById("productGrid");
  grid.innerHTML="";
  list.forEach(p=>{
    grid.innerHTML += `
      <div class="product-card">
        <i class="far fa-heart wishlist-icon"></i>
        <img src="${p.image}">
        <h3>${p.name}</h3>
        <p class="price">₹${p.price}</p>
        <button onclick="addToCart('${p.name}',${p.price},'${p.image}')" class="btn-pill">Add to Cart</button>
      </div>`;
  });
}
loadProducts(products);

// CART LOGIC
let cartItems = JSON.parse(localStorage.getItem("cartItems")||"[]");

function addToCart(name,price,image){
  const existing=cartItems.find(i=>i.name===name);
  existing? existing.quantity++ : cartItems.push({name,price,image,quantity:1});
  localStorage.setItem("cartItems",JSON.stringify(cartItems));
  showToast();
}

function showToast(){
  const t=document.getElementById("toast");
  t.style.display="block";
  setTimeout(()=>{ t.style.display="none"; },1600);
}

// CART DRAWER
const cartIcon = document.querySelector(".cart-icon");
const drawer = document.getElementById("cartDrawer");
const overlay = document.getElementById("overlay");

document.addEventListener("click", e=>{
  if(e.target.closest(".cart-icon")) openCart();
  if(e.target.id==="closeCart" || e.target===overlay) closeCart();
});

function openCart(){ drawer.classList.add("open"); overlay.classList.add("show"); renderCart(); }
function closeCart(){ drawer.classList.remove("open"); overlay.classList.remove("show"); }

function renderCart(){
  const box=document.getElementById("cartItems");
  const total=document.getElementById("cartTotal");
  if(cartItems.length===0){ box.innerHTML="<p>No items in cart</p>"; total.innerHTML=""; return; }
  let sum=0;
  box.innerHTML="";
  cartItems.forEach((i,idx)=>{
    sum+=i.price*i.quantity;
    box.innerHTML+=`
      <div class="cart-item">
       <img src="${i.image}"/>
       <div style="flex:1;">${i.name}<br>₹${i.price} × ${i.quantity}</div>
       <div>
        <button onclick="dec(${idx})">-</button>
        <button onclick="inc(${idx})">+</button>
        <button onclick="del(${idx})" style="background:#ff4d4d;color:white;border:none;padding:6px 10px;border-radius:6px;">x</button>
       </div>
      </div>`;
  });
  total.innerHTML="Total: ₹"+sum;
}

function inc(i){ cartItems[i].quantity++; save(); }
function dec(i){ cartItems[i].quantity>1? cartItems[i].quantity-- : cartItems.splice(i,1); save(); }
function del(i){ cartItems.splice(i,1); save(); }

function save(){
  localStorage.setItem("cartItems",JSON.stringify(cartItems));
  renderCart();
}

</script>
</body>
</html>
